# Generated by https://smithery.ai. See: https://smithery.ai/docs/build/project-config
FROM python:3.13-slim

WORKDIR /app

# Copy project
COPY . .

# Install dependencies
RUN pip install --no-cache-dir .

# Create start script to use PORT env var
RUN printf 'import os\n' > start.py \
 && printf 'from server import mcp\n' >> start.py \
 && printf 'mcp.run(transport="streamable-http", host="0.0.0.0", port=int(os.getenv("PORT", "8000")), path="/", log_level="debug")\n' >> start.py

EXPOSE 8000

CMD ["python", "start.py"]
